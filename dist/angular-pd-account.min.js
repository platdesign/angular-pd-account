!function(){"use strict";angular.module("pd.account",["ngCookies"]);!function(){var e=angular.module("pd.account");e.provider("Account",["$injector",function(){var e=this;this._config={cookiename:"account",afterSignInRoute:"/",afterSignOutRoute:"/",afterSignUpRoute:"/",afterDestroyRoute:"/",onlineRequiredOtherwiseRoute:"/",offlineRequiredOtherwiseRoute:"/",backendUrl:"/account"},this.config=function(e){angular.extend(this._config,e)},this.c=function(e){return this._config[e]},this.onlineRequired=function(t){return t=t||e.c("onlineRequiredOtherwiseRoute"),["$location","$q","Account","$timeout",function(e,n,o,i){var r=n.defer();return o.isOnline()?r.resolve():(r.reject(),i(function(){e.path(t)})),r.promise}]},this.offlineRequired=function(t){return t=t||e.c("offlineRequiredOtherwiseRoute"),["$location","$q","Account","$timeout",function(e,n,o,i){var r=n.defer();return o.isOnline()?(r.reject(),i(function(){e.path(t)})):r.resolve(),r.promise}]};var t=this.Service=function(){this.username=void 0};this.$get=["$cookies","$timeout","$location",function(n,o,i){t.prototype.isOnline=t.prototype.isOnline||function(){return n[e.c("cookiename")]},t.prototype.signIn=t.prototype.signIn||function(){n[e.c("cookiename")]=!0,this._load(),o(function(){i.path(e.c("afterSignInRoute"))})},t.prototype.signOut=t.prototype.signOut||function(){this._reset(),o(function(){i.path(e.c("afterSignOutRoute"))})},t.prototype.signUp=t.prototype.signUp||function(){},t.prototype._reset=t.prototype._reset||function(){this.username=void 0,delete n[e.c("cookiename")]},t.prototype._load=t.prototype._load||function(){this.isOnline()&&o(function(){r.username="plati"},1e3)};var r=new t;return r._load(),r}]}])}(),function(){var e=angular.module("pd.account");e.directive("pdAccountSignInForm",[function(){return{restrict:"E",template:'<form ng-submit="process()"><h1>SignIn</h1><input type="text" placeholder="Username" ng-model="username" /><input type="password" placeholder="Password" ng-model="secret" /><button type="submit">Sign In</button></form>',replace:!0,scope:{},link:function(){},controller:["$scope","Account",function(e,t){e.process=function(){t.signIn(e.username,e.secret)}}]}}])}()}();